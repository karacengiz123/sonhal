{% extends 'layout/base.html.twig' %}

{% block title %}Kullanıcılar{% endblock %}

{% block body %}

    <h1 style=" padding: 20px">Kullanıcılar</h1>
    <div style=" padding: 20px">
    <a href="{{ path('user_new') }}" style="float: right;"><button type="button" class="btn  btn-success">Yeni Oluştur</button></a>

    <table id="userTable" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <th>Kullanıcı Adı</th>
                {#<th>UsernameCanonical</th>#}
                <th>E-mail</th>
                {#<th>E-mailCanonical</th>#}
                {#<th>Enabled</th>#}
                {#<th>Salt</th>#}
                {#<th>Password</th>#}
                <th>Son Giriş</th>
                {#<th>ConfirmationToken</th>#}
                {#<th>PasswordRequestedAt</th>#}
                {#<th>Roles</th>#}
                {#<th>Id</th>#}
                <th style="float: right">Eylemler</th>
            </tr>
        </thead>
        <tbody>
        {% for user in users %}
            <tr>
                {#<td>{{ user.username }}</td>#}
                <td>{{ user.usernameCanonical }}</td>
                {#<td>{{ user.email }}</td>#}
                <td>{{ user.emailCanonical }}</td>
                {#<td>{{ user.enabled ? 'Yes' : 'No' }}</td>#}
                {#<td>{{ user.salt }}</td>#}
                {#<td>{{ user.password }}</td>#}
                <td>{{ user.lastLogin ? user.lastLogin|date('Y-m-d H:i:s') : '' }}</td>
                {#<td>{{ user.confirmationToken }}</td>#}
                {#<td>{{ user.passwordRequestedAt ? user.passwordRequestedAt|date('Y-m-d H:i:s') : '' }}</td>#}
                {#<td>{{ user.roles ? user.roles|join(', ') : '' }}</td>#}
                {#<td>{{ user.id }}</td>#}
                <td>
                    <a style="float: right;margin: 5px" href="{{ path('user_show', {'id': user.id}) }}"><button type="button" class="btn  btn-info">Göster</button></a>
                    <a style="float: right;margin: 5px" href="{{ path('user_edit', {'id': user.id}) }}"><button type="button" class="btn  btn-warning">Güncelle</button></a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="4">Kayıt Yok</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    </div>
{% endblock %}
{% block customScript %}
    <script>
        $('#userTable').DataTable({
            dom: 'Bfrtip',
            buttons: [
                'copy', 'csv', 'excel', 'pdf', 'print'
            ],
            "language": {
                url: 'https://cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Turkish.json'
            }
        });
        $('.buttons-copy, .buttons-csv, .buttons-print, .buttons-pdf, .buttons-excel').addClass('btn btn-primary mr-1');
    </script>

{% endblock %}
